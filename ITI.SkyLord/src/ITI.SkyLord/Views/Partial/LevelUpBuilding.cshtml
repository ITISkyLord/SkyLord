@model ITI.SkyLord.ViewModel.Partial.BuildingPartialViewModel
@using ITI.SkyLord.Services

<h3>Niveau : @Model.CurrentBuilding.Level.Number</h3>

<h3>Niveau suivant</h3>
<div class="row">

    @if(Model.NextBuildingLevelCost == null)
    {
        <p class="col-lg-12">Level maximum atteint</p>
    }
    else
    {
        <div class="col-lg-2">@Model.NextBuildingLevelCost.Wood Bois</div>
        <div class="col-lg-2">@Model.NextBuildingLevelCost.Metal Métal</div>
        <div class="col-lg-2">@Model.NextBuildingLevelCost.Magic Magie</div>
        <div class="col-lg-2">@Model.NextBuildingLevelCost.Cristal Cristal</div>

        <div class="col-lg-2">
            <div class="col-lg-3">
                <form asp-controller="Building" asp-action="LevelUpBuilding" asp-route-buildingPosition="@Model.Position" asp-route-islandId="@Model.Layout.CurrentIsland.IslandId">
                    @if(RessourceManager.IsEnough(Model.Layout.CurrentIsland.AllRessources, Model.NextBuildingLevelCost))
                    {
                        <input type="submit" value="Level Up" />
                    }
                    else
                    {
                        <div>Pas assez de ressource pour passer au niveau suivant</div>
                    }
                </form>
            </div>
        </div>
    }
</div>

